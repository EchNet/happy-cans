<!DOCTYPE html>
<html>
<head>
  <title>Happy Cans Service Locator - ADMIN</title>
</head>
<style>
  body {
    font-family: Helvetica, Arial;
    background-color: #eee;
  }
  .container {
    max-width: 700px;
    margin: auto;
    background-color: #fff;
  }
  header {
    font-size: 24px;
    font-weight: bold;
    text-align: center;
  }
  input[type="text"] {
    width: 480px;
  }
  textarea {
    width: 480px;
    height: 64px;
  }
  p {
    margin: 5px 0;
    font-size: 12px;
  }
  .centered {
    text-align: center;
  }
  section, header {
    margin: 20px;
  }
  section, header, div {
    padding: 15px;
  }
  section {
    border-radius: 15px;
    border: solid 1px #ccf;
  }
  .WaitScreen {
    z-index: 900;
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: rgba(198, 198, 198, 0.5);
  }
  div#serviceAreaMap {
    width: 450px;
    height: 300px;
  }
</style>
<script src="https://polyfill.io/v3/polyfill.min.js?features=default"></script>
<script src="https://maps.googleapis.com/maps/api/js?key={{apiKey}}&libraries=drawing"></script>
<body><div class="container">
  <header>Happy Cans Service Locator - ADMIN</header>
  <form method="POST" onsubmit="showWaitScreen()">
    <!-- for later
    <section>
      <label>Service Area</label>
      <p>Draw the polygon region on the map below.</p>
      <div id="serviceAreaMap"></div>
    </section>
    -->
    <section>
      <label>Service Area</label>
      <p>Draw the polygon region on the map below.</p>
      <div class="centered">
        <textarea name="serviceArea">{{ serviceArea }}</textarea>
      </div>
    </section>
    <section>
      <label>Font</label>
      <p>A widget styling option.</p>
      <div class="centered">
        <input name="fontFamily" type="text" value="{{ fontFamily }}" placeholder="Enter font family, e.g. Arial"/>
      </div>
    </section>
    <section>
      <label>Title</label>
      <p>Text displayed in the widget's title bar.</p>
      <div class="centered">
        <input name="title" type="text" value="{{ title }}" placeholder="Enter title"/>
      </div>
    </section>
    <section>
      <label>Address instruction text</label>
      <p>Instructions for the end user for using the address picker, displayed in the widget above the address picker.</p>
      <div class="centered">
        <textarea name="addressInstructionText">{{ addressInstructionText }}</textarea>
      </div>
    </section>
    <section>
      <label>Happy transition text</label>
      <p>Message to the user to confirm that their address is within service area.</p>
      <div class="centered">
        <textarea name="happyTransitionText">{{ happyTransitionText }}</textarea>
      </div>
    </section>
    <section>
      <label>Email prompt text</label>
      <p>Ask the user to enter an email address, in the case that the place is out of range.</p>
      <div class="centered">
        <textarea name="emailPromptOutOfArea">{{ emailPromptOutOfArea }}</textarea>
      </div>
      <p>Ask the user to enter an email address, in the case that the place is unknown.</p>
      <div class="centered">
        <textarea name="emailPromptUnknown">{{ emailPromptUnknown }}</textarea>
      </div>
    </section>
    <section>
      <label>Email confirmation text</label>
      <p>Message to the user to confirm that their email address has been received.</p>
      <div class="centered">
        <textarea name="emailConfirmationText">{{ emailConfirmationText }}</textarea>
      </div>
    </section>
    <div class="centered">
      <input type="submit" value="Save"/>
    </div>
    <section>
      <label>Jobber URL</label>
      <p>The URL where the widget directs users within the service area.</p>
      <div class="centered">
        <input name="jobberUrl" type="text" value="{{ jobberUrl }}" placeholder="Enter Jobber URL"/>
      </div>
    </section>
    <section>
      <label>API key</label>
      <p>For access to Google APIs, obtained through the Google Cloud Platform console.</p>
      <div class="centered">
        <input name="apiKey" type="text" value="{{ apiKey }}" placeholder="Enter API Key"/>
      </div>
    </section>
    <div class="centered">
      <input type="submit" value="Save"/>
    </div>
  </form>
  <div style="display: none;" class="WaitScreen"></div>
</div></body>
<script type="text/javascript">
  function initMap() {
    const map = new google.maps.Map(document.getElementById("serviceAreaMap"), {
      center: { lat: 32.920439, lng: -80.085555 },
      zoom: 9
    });
    /****
    const drawingManager = new google.maps.drawing.DrawingManager({
      drawingMode: google.maps.drawing.OverlayType.POLYGON,
      drawingControl: true,
      drawingControlOptions: {
        position: google.maps.ControlPosition.TOP_CENTER,
        drawingModes: [
          google.maps.drawing.OverlayType.POLYGON,
        ]
      }
    })
    drawingManager.setMap(map)
    ****/
  }
  initMap();

  function showWaitScreen() {
    document.querySelector("div.WaitScreen").style.display = "block";
  }
</script>
</html>
